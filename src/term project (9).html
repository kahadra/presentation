<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Slide 10 - Local Solution (Fixed)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #1a1a1a;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
        }
        .slide {
            width: 1280px;
            height: 720px;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            position: relative;
            overflow: hidden;
            color: white;
        }
        .code-editor {
            background-color: #1e1e1e;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.85rem;
            line-height: 1.5;
            border-radius: 8px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        .line-num {
            color: #858585;
            margin-right: 15px;
            user-select: none;
        }
        .keyword { color: #569cd6; }
        .string { color: #ce9178; }
        .comment { color: #6a9955; }
        .class-name { color: #4ec9b0; }
        
        .highlight-row {
            background-color: rgba(255, 255, 255, 0.1);
            border-left: 3px solid #4ec9b0;
        }
    </style>
</head>
<body>

    <div class="slide p-10 flex flex-col">
        <!-- 헤더 -->
        <div class="flex items-center mb-8 border-b border-gray-600 pb-4">
            <div class="w-2 h-10 bg-green-500 mr-4"></div>
            <h1 class="text-4xl font-bold text-white">Local 환경 구축 및 해결 <span class="text-2xl font-light text-gray-400 ml-2">(Solution)</span></h1>
        </div>

        <div class="flex gap-10 h-full">
            
            <!-- 왼쪽: 문제 분석 -->
            <div class="w-1/3 flex flex-col space-y-6">
                <div class="bg-gray-800 p-6 rounded-xl border-l-4 border-red-500">
                    <h3 class="text-xl font-bold text-red-400 mb-3"><i class="fas fa-bug mr-2"></i>Import Error 원인</h3>
                    <p class="text-gray-300 leading-relaxed">
                        MMPose는 초기화 시 `models/heads` 내의<br>
                        <span class="text-white font-bold">모든 Head 모듈을 등록(Registry)</span>하려 시도함.
                    </p>
                    <div class="mt-4 bg-black bg-opacity-30 p-3 rounded text-sm text-red-300 font-mono border border-red-900">
                        ImportError: cannot import name 'EDPoseHead' ...
                    </div>
                    <p class="text-sm text-gray-400 mt-3">
                        → 사용하지 않는 <strong>Transformer Head(EDPose)</strong>가<br>
                        로컬 환경의 라이브러리와 충돌.
                    </p>
                </div>
                
                <div class="flex-1 flex flex-col items-center justify-center text-gray-500">
                    <i class="fas fa-arrow-right text-4xl mb-2"></i>
                    <span class="text-sm">Direct Code Patching</span>
                </div>
            </div>

            <!-- 오른쪽: 해결 코드 (실제 수정 내역) -->
            <div class="w-2/3 flex flex-col">
                <div class="flex justify-between items-end mb-2">
                    <h3 class="text-lg font-bold text-green-400"><i class="fas fa-file-code mr-2"></i>mmpose/models/heads/__init__.py</h3>
                    <span class="text-xs text-gray-500">Modified Source Code</span>
                </div>
                
                <div class="code-editor p-6 flex-1 relative overflow-hidden border border-gray-600">
                    <!-- 코드 내용 -->
                    <div><span class="line-num">1</span><span class="comment"># Copyright (c) OpenMMLab. All rights reserved.</span></div>
                    <div><span class="line-num">2</span><span class="keyword">from</span> .base_head <span class="keyword">import</span> BaseHead</div>
                    <div><span class="line-num">3</span><span class="keyword">from</span> .coord_cls_heads <span class="keyword">import</span> RTMCCHead, RTMWHead</div>
                    <div><span class="line-num">4</span><span class="keyword">from</span> .heatmap_heads <span class="keyword">import</span> (AssociativeEmbeddingHead, CIDHead, ...</div>
                    <div><span class="line-num">5</span><span class="keyword">from</span> .regression_heads <span class="keyword">import</span> (DSNTHead, IntegralRegressionHead, ...</div>
                    <div class="py-1"></div>
                    
                    <!-- 수정된 부분 강조 -->
                    <div class="highlight-row pl-2 -ml-2">
                        <div><span class="line-num">6</span><span class="comment">#from .transformer_heads import EDPoseHead  &lt;-- CAUSING ERROR</span></div>
                    </div>
                    
                    <div class="py-1"></div>
                    <div><span class="line-num">7</span>__all__ = [</div>
                    <div><span class="line-num">8</span>    <span class="string">'BaseHead'</span>, <span class="string">'HeatmapHead'</span>, <span class="string">'CPMHead'</span>, <span class="string">'MSPNHead'</span>,</div>
                    <div><span class="line-num">9</span>    <span class="string">'RegressionHead'</span>, <span class="string">'IntegralRegressionHead'</span>, <span class="string">'SimCCHead'</span>,</div>
                    <div><span class="line-num">10</span>    <span class="string">'DSNTHead'</span>, <span class="string">'AssociativeEmbeddingHead'</span>, <span class="string">'DEKRHead'</span>,</div>
                    <div class="highlight-row pl-2 -ml-2">
                        <div><span class="line-num">11</span>    <span class="string">'TrajectoryRegressionHead'</span>, <span class="comment">#'EDPoseHead',  &lt;-- REMOVED</span></div>
                    </div>
                    <div><span class="line-num">12</span>]</div>
                </div>

                <div class="mt-4 flex items-center bg-green-900 bg-opacity-20 p-3 rounded border border-green-800">
                    <i class="fas fa-check-circle text-green-500 text-xl mr-3"></i>
                    <p class="text-sm text-gray-300">
                        <span class="text-white font-bold">Result:</span> 충돌을 일으키는 모듈을 물리적으로 비활성화(Comment Out)하여 <br>
                        HRNet 및 ViTPose 추론 환경 정상 구동 성공.
                    </p>
                </div>
            </div>
        </div>
    </div>

</body>
</html>