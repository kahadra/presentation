<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Slide 6 - YOLO Preprocessing (Enhanced)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <!-- MathJax for LaTeX Rendering -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #1a1a1a;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
        }
        .slide {
            width: 1280px;
            height: 720px;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            position: relative;
            overflow: hidden;
            color: white;
        }
        .code-window {
            background: #1e1e1e;
            border-radius: 8px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.85rem;
        }
        .process-arrow {
            color: #6b7280;
            font-size: 1.2rem;
            margin: 0.5rem 0;
        }
    </style>
</head>
<body>

    <div class="slide p-10 flex flex-col">
        <!-- 헤더 -->
        <div class="flex items-center mb-6 border-b border-gray-600 pb-3">
            <div class="w-2 h-8 bg-yellow-500 mr-4"></div>
            <h1 class="text-3xl font-bold text-white">YOLO Pose 전처리 상세 <span class="text-xl font-light text-gray-400 ml-2">(Preprocessing Detail)</span></h1>
        </div>

        <div class="flex gap-8 h-full">
            
            <!-- 왼쪽: 전처리 파이프라인 (코드 로직 반영) -->
            <div class="w-1/2 flex flex-col space-y-4">
                <h3 class="text-lg font-bold text-gray-300 border-l-4 border-blue-500 pl-3">1. Data Standardization</h3>
                
                <div class="grid grid-cols-2 gap-4">
                    <!-- URFALL -->
                    <div class="bg-gray-800 p-3 rounded border border-gray-700">
                        <span class="text-blue-400 font-bold text-sm">URFALL</span>
                        <p class="text-xs text-gray-400 mt-1">Image Sequence (*.png)</p>
                        <div class="text-center my-1"><i class="fas fa-arrow-down text-gray-600 text-xs"></i></div>
                        <p class="text-xs text-white">Convert to MP4 (25fps)</p>
                    </div>
                    <!-- LE2I -->
                    <div class="bg-gray-800 p-3 rounded border border-gray-700">
                        <span class="text-purple-400 font-bold text-sm">LE2I</span>
                        <p class="text-xs text-gray-400 mt-1">Video + Txt Annotation</p>
                        <div class="text-center my-1"><i class="fas fa-arrow-down text-gray-600 text-xs"></i></div>
                        <p class="text-xs text-white">Parse Fall Frame Index</p>
                    </div>
                </div>

                <div class="flex justify-center"><i class="fas fa-chevron-down process-arrow"></i></div>

                <h3 class="text-lg font-bold text-gray-300 border-l-4 border-green-500 pl-3">2. Clip Generation Logic</h3>
                <div class="bg-gray-900 p-4 rounded border border-gray-700 relative">
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-red-400 font-bold text-sm">Pre-Fall Clips</span>
                        <span class="text-xs text-gray-500">Target: 2.0 sec</span>
                    </div>
                    <div class="w-full bg-gray-700 h-2 rounded overflow-hidden relative mb-1">
                        <div class="absolute right-0 top-0 h-full bg-red-500 w-1/3"></div>
                    </div>
                    <div class="flex justify-between text-xs text-gray-400 font-mono">
                        <span>Start</span>
                        <span>Fall Time ($t_{fall}$)</span>
                    </div>
                    <p class="text-xs text-green-400 mt-2 font-mono">
                        start = $t_{fall}$ - 2.0s<br>
                        end = $t_{fall}$
                    </p>
                </div>

                <div class="flex justify-between items-center bg-gray-800 px-4 py-2 rounded mt-2">
                    <span class="text-sm text-gray-300">Total Clips Generated</span>
                    <span class="text-xl font-bold text-white">70 <span class="text-xs font-normal text-gray-400">(ADL 40 + Pre-Fall 30)</span></span>
                </div>
            </div>

            <!-- 오른쪽: JSON 구조 (실제 코드 출력 반영) -->
            <div class="w-1/2 flex flex-col">
                <h3 class="text-lg font-bold text-gray-300 border-l-4 border-yellow-500 pl-3 mb-3">3. Output JSON Structure</h3>
                <div class="code-window p-4 flex-1 border border-gray-700 relative overflow-hidden">
                    <div class="absolute top-0 right-0 bg-yellow-600 px-3 py-1 text-xs text-black font-bold rounded-bl">Generated by YOLOv8n-pose</div>
                    
                    <pre class="text-sm leading-relaxed overflow-y-auto h-full custom-scrollbar"><code class="language-json"><span class="text-purple-400">{</span>
  <span class="text-blue-400">"clip_path"</span>: <span class="text-yellow-300">"clips_raw/PREFALL/pf_0001.mp4"</span>,
  <span class="text-blue-400">"fps"</span>: <span class="text-red-400">25.0</span>,
  <span class="text-blue-400">"n_frames"</span>: <span class="text-red-400">50</span>,
  <span class="text-blue-400">"frames"</span>: <span class="text-purple-400">{</span>
    <span class="text-blue-400">"0"</span>: <span class="text-purple-400">[</span>  <span class="text-gray-500">// Frame Index</span>
      <span class="text-purple-400">{</span>
        <span class="text-blue-400">"person_id"</span>: <span class="text-red-400">0</span>,
        <span class="text-blue-400">"keypoints"</span>: <span class="text-purple-400">[</span>
          <span class="text-purple-400">{</span>
            <span class="text-blue-400">"joint_id"</span>: <span class="text-red-400">0</span>, <span class="text-gray-500">// Nose</span>
            <span class="text-blue-400">"x"</span>: <span class="text-red-400">450.23</span>,
            <span class="text-blue-400">"y"</span>: <span class="text-red-400">210.51</span>,
            <span class="text-blue-400">"conf"</span>: <span class="text-red-400">0.92</span>
          <span class="text-purple-400">}</span>,
          <span class="text-purple-400">{</span>
            <span class="text-blue-400">"joint_id"</span>: <span class="text-red-400">1</span>, <span class="text-gray-500">// Left Eye</span>
            <span class="text-blue-400">"x"</span>: <span class="text-red-400">455.10</span>,
            <span class="text-blue-400">"y"</span>: <span class="text-red-400">208.12</span>,
            <span class="text-blue-400">"conf"</span>: <span class="text-red-400">0.88</span>
          <span class="text-purple-400">}</span>
          <span class="text-gray-500">... (Total 17 Keypoints)</span>
        <span class="text-purple-400">]</span>
      <span class="text-purple-400">}</span>
    <span class="text-purple-400">]</span>,
    <span class="text-blue-400">"1"</span>: <span class="text-purple-400">[ ... ]</span>
  <span class="text-purple-400">}</span>
<span class="text-purple-400">}</span></code></pre>
                </div>
                <p class="text-xs text-gray-500 mt-2 text-right">
                    * Raw coordinates are preserved for $\Delta U$ calculation.
                </p>
            </div>
        </div>
    </div>

</body>
</html>